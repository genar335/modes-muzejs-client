{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/yberfox228/Documents/itlemonade/f-museum/tech/CS/modes-muzejs-client/components/PhotoManager.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useRef, useState } from \"react\";\nimport stylish from \"./styles/PhotoManager.module.scss\";\nimport uploadIcon from \"../GAssets/upload_data.svg\";\nimport Carousel from \"react-multi-carousel\";\nimport { responsive } from \"./constants\";\nimport Axios from \"axios\";\n\nvar PhotoManager = function PhotoManager(props) {\n  _s();\n\n  function readUploadedIMG(_x) {\n    return _readUploadedIMG.apply(this, arguments);\n  }\n\n  function _readUploadedIMG() {\n    _readUploadedIMG = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(inputFile) {\n      var tmpFileReader;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              tmpFileReader = new FileReader();\n              return _context2.abrupt(\"return\", new Promise(function (resolve, reject) {\n                tmpFileReader.onerror = function () {\n                  tmpFileReader.abort();\n                  reject(new DOMException(\"Problem parsing input file.\"));\n                };\n\n                tmpFileReader.onload = function () {\n                  resolve(tmpFileReader.result);\n                };\n\n                tmpFileReader.readAsDataURL(inputFile);\n              }));\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _readUploadedIMG.apply(this, arguments);\n  }\n\n  var handleUpload = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var file, fileContents;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              file = event.target.files[0];\n              _context.prev = 1;\n              _context.next = 4;\n              return readUploadedIMG(file);\n\n            case 4:\n              fileContents = _context.sent;\n              console.log(fileContents);\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.warn(_context.t0.message);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8]]);\n    }));\n\n    return function handleUpload(_x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var _useState = useState([]),\n      upIMGs = _useState[0],\n      setUpIMGs = _useState[1];\n\n  var _useState2 = useState([]),\n      recievedIMGLocations = _useState2[0],\n      setRecievedIMGLocation = _useState2[1];\n\n  function handleFileInput(_x3) {\n    return _handleFileInput.apply(this, arguments);\n  }\n\n  function _handleFileInput() {\n    _handleFileInput = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event) {\n      var tmp, fileIndex, _fileInput$current$fi, fileContents;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              event.preventDefault();\n              tmp = [];\n\n              if (!(fileInput.current !== null && fileInput.current.files !== null)) {\n                _context3.next = 19;\n                break;\n              }\n\n              fileIndex = 0;\n\n            case 4:\n              if (!(fileIndex < ((_fileInput$current$fi = fileInput.current.files) === null || _fileInput$current$fi === void 0 ? void 0 : _fileInput$current$fi.length))) {\n                _context3.next = 18;\n                break;\n              }\n\n              _context3.prev = 5;\n              _context3.next = 8;\n              return readUploadedIMG(fileInput.current.files[fileIndex]);\n\n            case 8:\n              fileContents = _context3.sent;\n              tmp.push(fileContents); // setUploadedImg(fileContents);\n\n              _context3.next = 15;\n              break;\n\n            case 12:\n              _context3.prev = 12;\n              _context3.t0 = _context3[\"catch\"](5);\n              alert(_context3.t0);\n\n            case 15:\n              fileIndex++;\n              _context3.next = 4;\n              break;\n\n            case 18:\n              setUpIMGs(tmp);\n\n            case 19:\n              console.log(upIMGs);\n              Axios.post(\"http://localhost:4000/tests/testIMG\", upIMGs).then(function (response) {\n                console.log(response.data);\n                setRecievedIMGLocation(response.data);\n              })[\"catch\"](function (error) {\n                console.log(error);\n              });\n\n            case 21:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[5, 12]]);\n    }));\n    return _handleFileInput.apply(this, arguments);\n  }\n\n  var fileInput = useRef(null);\n\n  var CustomRightArrow = function CustomRightArrow(_ref2) {\n    var _onClick = _ref2.onClick,\n        rest = _objectWithoutProperties(_ref2, [\"onClick\"]);\n\n    var onMove = rest.onMove,\n        _rest$carouselState = rest.carouselState,\n        currentSlide = _rest$carouselState.currentSlide,\n        deviceType = _rest$carouselState.deviceType; // onMove means if dragging or swiping in progress.\n\n    return __jsx(\"button\", {\n      className: stylish.carRightArrow,\n      onClick: function onClick() {\n        return _onClick();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }\n    }, Arrow());\n  };\n\n  var CustomLeftArrow = function CustomLeftArrow(_ref3) {\n    var _onClick2 = _ref3.onClick,\n        rest = _objectWithoutProperties(_ref3, [\"onClick\"]);\n\n    var onMove = rest.onMove,\n        _rest$carouselState2 = rest.carouselState,\n        currentSlide = _rest$carouselState2.currentSlide,\n        deviceType = _rest$carouselState2.deviceType;\n    return __jsx(\"button\", {\n      onClick: function onClick() {\n        return _onClick2();\n      },\n      className: stylish.carLeftArrow,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, Arrow());\n  };\n\n  return __jsx(\"div\", {\n    className: \"\".concat(stylish.PhotosContainer, \" \").concat(!props.displayed ? undefined : stylish.Hidden),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: stylish.Contents,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: stylish.headerIconContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, \"Uploaded photos\"), __jsx(\"label\", {\n    htmlFor: \"photoUpload\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, __jsx(\"input\", {\n    type: \"file\",\n    name: \"photoUpload\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }), __jsx(\"img\", {\n    src: uploadIcon,\n    alt: \"Upload\",\n    className: stylish.uploadIcon,\n    onClick: function onClick(e) {\n      return console.log(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    className: stylish.IMGPreview,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, __jsx(\"form\", {\n    onSubmit: handleFileInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }, __jsx(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, \"Upload image\"), __jsx(\"input\", {\n    name: \"testio\",\n    type: \"file\",\n    multiple: true,\n    accept: \"image/*\",\n    ref: fileInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }), __jsx(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, \"Placeholder for image upload\"), __jsx(Carousel, {\n    ssr: true,\n    containerClass: stylish.Carousel,\n    itemClass: stylish.Item,\n    responsive: responsive,\n    showDots: true,\n    customRightArrow: __jsx(CustomRightArrow, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 33\n      }\n    }),\n    customLeftArrow: __jsx(CustomLeftArrow, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 32\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, recievedIMGLocations.map(function (image, index) {\n    return __jsx(\"div\", {\n      className: stylish.imgContainer,\n      id: \"imageDiv_\".concat(index),\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }, __jsx(\"img\", {\n      key: index,\n      className: stylish.tmpIMG,\n      src: recievedIMGLocations[index],\n      alt: \"Oops\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }), __jsx(\"img\", {\n      key: index + 1,\n      className: stylish.tmpIMG,\n      src: recievedIMGLocations[index + 1],\n      alt: \"Oops\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 19\n      }\n    }));\n  }))))));\n};\n\n_s(PhotoManager, \"USZjpV/SRJxxk/qrJrApu1Ffirw=\");\n\n_c = PhotoManager;\nexport default PhotoManager;\n\nvar Arrow = function Arrow() {\n  return __jsx(\"svg\", {\n    width: \"15\",\n    height: \"26\",\n    viewBox: \"0 0 15 26\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 3\n    }\n  }, __jsx(\"path\", {\n    d: \"M2 24L13 13L2 2\",\n    stroke: \"#2F4858\",\n    \"stroke-width\": \"3\",\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 5\n    }\n  }));\n};\n\n_c2 = Arrow;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"PhotoManager\");\n$RefreshReg$(_c2, \"Arrow\");","map":{"version":3,"sources":["/Users/yberfox228/Documents/itlemonade/f-museum/tech/CS/modes-muzejs-client/components/PhotoManager.tsx"],"names":["React","useRef","useState","stylish","uploadIcon","Carousel","responsive","Axios","PhotoManager","props","readUploadedIMG","inputFile","tmpFileReader","FileReader","Promise","resolve","reject","onerror","abort","DOMException","onload","result","readAsDataURL","handleUpload","event","file","target","files","fileContents","console","log","warn","message","upIMGs","setUpIMGs","recievedIMGLocations","setRecievedIMGLocation","handleFileInput","preventDefault","tmp","fileInput","current","fileIndex","length","push","alert","post","then","response","data","error","CustomRightArrow","onClick","rest","onMove","carouselState","currentSlide","deviceType","carRightArrow","Arrow","CustomLeftArrow","carLeftArrow","PhotosContainer","displayed","undefined","Hidden","Contents","headerIconContainer","e","IMGPreview","Item","map","image","index","imgContainer","tmpIMG"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,OAAxC;AAEA,OAAOC,OAAP,MAAoB,mCAApB;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAmC;AAAA;;AAAA,WACvCC,eADuC;AAAA;AAAA;;AAAA;AAAA,gFACtD,kBAA+BC,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,cAAAA,aADR,GACwB,IAAIC,UAAJ,EADxB;AAAA,gDAGS,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCJ,gBAAAA,aAAa,CAACK,OAAd,GAAwB,YAAM;AAC5BL,kBAAAA,aAAa,CAACM,KAAd;AACAF,kBAAAA,MAAM,CAAC,IAAIG,YAAJ,CAAiB,6BAAjB,CAAD,CAAN;AACD,iBAHD;;AAKAP,gBAAAA,aAAa,CAACQ,MAAd,GAAuB,YAAM;AAC3BL,kBAAAA,OAAO,CAACH,aAAa,CAACS,MAAf,CAAP;AACD,iBAFD;;AAGAT,gBAAAA,aAAa,CAACU,aAAd,CAA4BX,SAA5B;AACD,eAVM,CAHT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADsD;AAAA;AAAA;;AAiBtD,MAAMY,YAAY;AAAA,wEAAG,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACbC,cAAAA,IADa,GACND,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CADM;AAAA;AAAA;AAAA,qBAGUjB,eAAe,CAACe,IAAD,CAHzB;;AAAA;AAGXG,cAAAA,YAHW;AAIjBC,cAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AAJiB;AAAA;;AAAA;AAAA;AAAA;AAMjBC,cAAAA,OAAO,CAACE,IAAR,CAAa,YAAEC,OAAf;;AANiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZT,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAjBsD,kBA2B1BrB,QAAQ,CAAa,EAAb,CA3BkB;AAAA,MA2B/C+B,MA3B+C;AAAA,MA2BvCC,SA3BuC;;AAAA,mBA6BChC,QAAQ,CAE7D,EAF6D,CA7BT;AAAA,MA6B/CiC,oBA7B+C;AAAA,MA6BzBC,sBA7ByB;;AAAA,WAiCvCC,eAjCuC;AAAA;AAAA;;AAAA;AAAA,gFAiCtD,kBAA+Bb,KAA/B;AAAA;;AAAA;AAAA;AAAA;AAAA;AACEA,cAAAA,KAAK,CAACc,cAAN;AACIC,cAAAA,GAFN,GAEY,EAFZ;;AAAA,oBAGMC,SAAS,CAACC,OAAV,KAAsB,IAAtB,IAA8BD,SAAS,CAACC,OAAV,CAAkBd,KAAlB,KAA4B,IAHhE;AAAA;AAAA;AAAA;;AAKUe,cAAAA,SALV,GAKsB,CALtB;;AAAA;AAAA,oBAMMA,SAAS,6BAAGF,SAAS,CAACC,OAAV,CAAkBd,KAArB,0DAAG,sBAAyBgB,MAA5B,CANf;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,qBAUmCjC,eAAe,CACxC8B,SAAS,CAACC,OAAV,CAAkBd,KAAlB,CAAwBe,SAAxB,CADwC,CAVlD;;AAAA;AAUcd,cAAAA,YAVd;AAaQW,cAAAA,GAAG,CAACK,IAAJ,CAAShB,YAAT,EAbR,CAcQ;;AAdR;AAAA;;AAAA;AAAA;AAAA;AAgBQiB,cAAAA,KAAK,cAAL;;AAhBR;AAOMH,cAAAA,SAAS,EAPf;AAAA;AAAA;;AAAA;AAmBIR,cAAAA,SAAS,CAACK,GAAD,CAAT;;AAnBJ;AAqBEV,cAAAA,OAAO,CAACC,GAAR,CAAYG,MAAZ;AACA1B,cAAAA,KAAK,CAACuC,IAAN,CAAW,qCAAX,EAAkDb,MAAlD,EACGc,IADH,CACQ,UAAUC,QAAV,EAAoB;AACxBnB,gBAAAA,OAAO,CAACC,GAAR,CAAYkB,QAAQ,CAACC,IAArB;AACAb,gBAAAA,sBAAsB,CAACY,QAAQ,CAACC,IAAV,CAAtB;AACD,eAJH,WAKS,UAAUC,KAAV,EAAiB;AACtBrB,gBAAAA,OAAO,CAACC,GAAR,CAAYoB,KAAZ;AACD,eAPH;;AAtBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAjCsD;AAAA;AAAA;;AAgEtD,MAAMV,SAAS,GAAGvC,MAAM,CAAmB,IAAnB,CAAxB;;AAEA,MAAMkD,gBAAgB,GAAG,SAAnBA,gBAAmB,QAA0B;AAAA,QAAvBC,QAAuB,SAAvBA,OAAuB;AAAA,QAAXC,IAAW;;AAAA,QAE/CC,MAF+C,GAI7CD,IAJ6C,CAE/CC,MAF+C;AAAA,8BAI7CD,IAJ6C,CAG/CE,aAH+C;AAAA,QAG9BC,YAH8B,uBAG9BA,YAH8B;AAAA,QAGhBC,UAHgB,uBAGhBA,UAHgB,EAKjD;;AACA,WACE;AAAQ,MAAA,SAAS,EAAEtD,OAAO,CAACuD,aAA3B;AAA0C,MAAA,OAAO,EAAE;AAAA,eAAMN,QAAO,EAAb;AAAA,OAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGO,KAAK,EADR,CADF;AAKD,GAXD;;AAaA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,QAA0B;AAAA,QAAvBR,SAAuB,SAAvBA,OAAuB;AAAA,QAAXC,IAAW;;AAAA,QAE9CC,MAF8C,GAI5CD,IAJ4C,CAE9CC,MAF8C;AAAA,+BAI5CD,IAJ4C,CAG9CE,aAH8C;AAAA,QAG7BC,YAH6B,wBAG7BA,YAH6B;AAAA,QAGfC,UAHe,wBAGfA,UAHe;AAKhD,WACE;AAAQ,MAAA,OAAO,EAAE;AAAA,eAAML,SAAO,EAAb;AAAA,OAAjB;AAAkC,MAAA,SAAS,EAAEjD,OAAO,CAAC0D,YAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGF,KAAK,EADR,CADF;AAKD,GAVD;;AAYA,SACE;AACE,IAAA,SAAS,YAAKxD,OAAO,CAAC2D,eAAb,cACP,CAACrD,KAAK,CAACsD,SAAP,GAAmBC,SAAnB,GAA+B7D,OAAO,CAAC8D,MADhC,CADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AAAK,IAAA,SAAS,EAAE9D,OAAO,CAAC+D,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAE/D,OAAO,CAACgE,mBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE;AAAO,IAAA,OAAO,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AACE,IAAA,GAAG,EAAE/D,UADP;AAEE,IAAA,GAAG,EAAC,QAFN;AAGE,IAAA,SAAS,EAAED,OAAO,CAACC,UAHrB;AAIE,IAAA,OAAO,EAAE,iBAACgE,CAAD;AAAA,aAAOvC,OAAO,CAACC,GAAR,CAAYsC,CAAZ,CAAP;AAAA,KAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAFF,CADF,EAaE;AAAK,IAAA,SAAS,EAAEjE,OAAO,CAACkE,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEhC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,MAAM,EAAC,SAJT;AAKE,IAAA,GAAG,EAAEG,SALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EASE;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAVF,EAWE,MAAC,QAAD;AACE,IAAA,GAAG,MADL;AAEE,IAAA,cAAc,EAAErC,OAAO,CAACE,QAF1B;AAGE,IAAA,SAAS,EAAEF,OAAO,CAACmE,IAHrB;AAIE,IAAA,UAAU,EAAEhE,UAJd;AAKE,IAAA,QAAQ,MALV;AAME,IAAA,gBAAgB,EAAE,MAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANpB;AAOE,IAAA,eAAe,EAAE,MAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASG6B,oBAAoB,CAACoC,GAArB,CAAyB,UAACC,KAAD,EAAQC,KAAR;AAAA,WACxB;AACE,MAAA,SAAS,EAAEtE,OAAO,CAACuE,YADrB;AAEE,MAAA,EAAE,qBAAcD,KAAd,CAFJ;AAGE,MAAA,GAAG,EAAEA,KAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE;AACE,MAAA,GAAG,EAAEA,KADP;AAEE,MAAA,SAAS,EAAEtE,OAAO,CAACwE,MAFrB;AAGE,MAAA,GAAG,EAAExC,oBAAoB,CAACsC,KAAD,CAH3B;AAIE,MAAA,GAAG,EAAC,MAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAWE;AACE,MAAA,GAAG,EAAEA,KAAK,GAAG,CADf;AAEE,MAAA,SAAS,EAAEtE,OAAO,CAACwE,MAFrB;AAGE,MAAA,GAAG,EAAExC,oBAAoB,CAACsC,KAAK,GAAG,CAAT,CAH3B;AAIE,MAAA,GAAG,EAAC,MAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,CADwB;AAAA,GAAzB,CATH,CAXF,CADF,CAbF,CALF,CADF;AAkED,CA7JD;;GAAMjE,Y;;KAAAA,Y;AA+JN,eAAeA,YAAf;;AACA,IAAMmD,KAAK,GAAG,SAARA,KAAQ;AAAA,SACZ;AACE,IAAA,KAAK,EAAC,IADR;AAEE,IAAA,MAAM,EAAC,IAFT;AAGE,IAAA,OAAO,EAAC,WAHV;AAIE,IAAA,IAAI,EAAC,MAJP;AAKE,IAAA,KAAK,EAAC,4BALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AACE,IAAA,CAAC,EAAC,iBADJ;AAEE,IAAA,MAAM,EAAC,SAFT;AAGE,oBAAa,GAHf;AAIE,sBAAe,OAJjB;AAKE,uBAAgB,OALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADY;AAAA,CAAd;;MAAMA,K","sourcesContent":["import React, { useRef, useState } from \"react\";\nimport styles from \"../pages/styles/create_test.module.scss\";\nimport stylish from \"./styles/PhotoManager.module.scss\";\nimport uploadIcon from \"../GAssets/upload_data.svg\";\nimport Carousel from \"react-multi-carousel\";\nimport { responsive } from \"./constants\";\nimport Axios from \"axios\";\nimport { error } from \"console\";\n\nconst PhotoManager = (props: { displayed: boolean }) => {\n  async function readUploadedIMG(inputFile: Blob) {\n    const tmpFileReader = new FileReader();\n\n    return new Promise((resolve, reject) => {\n      tmpFileReader.onerror = () => {\n        tmpFileReader.abort();\n        reject(new DOMException(\"Problem parsing input file.\"));\n      };\n\n      tmpFileReader.onload = () => {\n        resolve(tmpFileReader.result);\n      };\n      tmpFileReader.readAsDataURL(inputFile);\n    });\n  }\n\n  const handleUpload = async (event: { target: { files: any[] } }) => {\n    const file = event.target.files[0];\n    try {\n      const fileContents = await readUploadedIMG(file);\n      console.log(fileContents);\n    } catch (e) {\n      console.warn(e.message);\n    }\n  };\n\n  const [upIMGs, setUpIMGs] = useState<Array<any>>([]);\n\n  const [recievedIMGLocations, setRecievedIMGLocation] = useState<\n    Array<string>\n  >([]);\n\n  async function handleFileInput(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n    let tmp = [];\n    if (fileInput.current !== null && fileInput.current.files !== null) {\n      for (\n        let fileIndex = 0;\n        fileIndex < fileInput.current.files?.length;\n        fileIndex++\n      ) {\n        try {\n          const fileContents = await readUploadedIMG(\n            fileInput.current.files[fileIndex]\n          );\n          tmp.push(fileContents);\n          // setUploadedImg(fileContents);\n        } catch (error) {\n          alert(error);\n        }\n      }\n      setUpIMGs(tmp);\n    }\n    console.log(upIMGs);\n    Axios.post(\"http://localhost:4000/tests/testIMG\", upIMGs)\n      .then(function (response) {\n        console.log(response.data);\n        setRecievedIMGLocation(response.data);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n  const fileInput = useRef<HTMLInputElement>(null);\n\n  const CustomRightArrow = ({ onClick, ...rest }) => {\n    const {\n      onMove,\n      carouselState: { currentSlide, deviceType },\n    } = rest;\n    // onMove means if dragging or swiping in progress.\n    return (\n      <button className={stylish.carRightArrow} onClick={() => onClick()}>\n        {Arrow()}\n      </button>\n    );\n  };\n\n  const CustomLeftArrow = ({ onClick, ...rest }) => {\n    const {\n      onMove,\n      carouselState: { currentSlide, deviceType },\n    } = rest;\n    return (\n      <button onClick={() => onClick()} className={stylish.carLeftArrow}>\n        {Arrow()}\n      </button>\n    );\n  };\n\n  return (\n    <div\n      className={`${stylish.PhotosContainer} ${\n        !props.displayed ? undefined : stylish.Hidden\n      }`}\n    >\n      <div className={stylish.Contents}>\n        <div className={stylish.headerIconContainer}>\n          <h3>Uploaded photos</h3>\n          <label htmlFor=\"photoUpload\">\n            <input type=\"file\" name=\"photoUpload\" />\n            <img\n              src={uploadIcon}\n              alt=\"Upload\"\n              className={stylish.uploadIcon}\n              onClick={(e) => console.log(e)}\n            />\n          </label>\n        </div>\n        <div className={stylish.IMGPreview}>\n          <form onSubmit={handleFileInput}>\n            <label>Upload image</label>\n            <input\n              name=\"testio\"\n              type=\"file\"\n              multiple\n              accept=\"image/*\"\n              ref={fileInput}\n            />\n            <input type=\"submit\" value=\"Submit\" />\n            <p>Placeholder for image upload</p>\n            <Carousel\n              ssr\n              containerClass={stylish.Carousel}\n              itemClass={stylish.Item}\n              responsive={responsive}\n              showDots\n              customRightArrow={<CustomRightArrow />}\n              customLeftArrow={<CustomLeftArrow />}\n            >\n              {recievedIMGLocations.map((image, index) => (\n                <div\n                  className={stylish.imgContainer}\n                  id={`imageDiv_${index}`}\n                  key={index}\n                >\n                  <img\n                    key={index}\n                    className={stylish.tmpIMG}\n                    src={recievedIMGLocations[index]}\n                    alt=\"Oops\"\n                  />\n                  <img\n                    key={index + 1}\n                    className={stylish.tmpIMG}\n                    src={recievedIMGLocations[index + 1]}\n                    alt=\"Oops\"\n                  />\n                </div>\n              ))}\n            </Carousel>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PhotoManager;\nconst Arrow = () => (\n  <svg\n    width=\"15\"\n    height=\"26\"\n    viewBox=\"0 0 15 26\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M2 24L13 13L2 2\"\n      stroke=\"#2F4858\"\n      stroke-width=\"3\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n);\n"]},"metadata":{},"sourceType":"module"}