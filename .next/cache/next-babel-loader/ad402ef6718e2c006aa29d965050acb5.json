{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport styles from \"./styles/LogIn.module.scss\"; //import loadingIcon from \"../GAssets/loading_cat.gif\";\n\nimport loadingTriangle from \"../GAssets/ball-triangle.svg\";\nimport Router from \"next/router\";\n\nconst LogIn = () => {\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const {\n    0: inputData,\n    1: setInputData\n  } = useState({\n    name: \"\",\n    pass: \"\"\n  });\n\n  const sendData = async () => {\n    console.log(inputData);\n    setIsLoading(true);\n\n    try {\n      const response = await axios.post(\"http://localhost:4000/users/log_in\", {\n        name: inputData.name,\n        password: inputData.pass\n      }, {\n        withCredentials: true\n      });\n      console.log(response.status);\n      await Router.push(\"/\"); //setIsLoading(false);\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  const handleFormSubmission = async e => {\n    e.preventDefault();\n\n    if (inputData.pass.length <= 4 || inputData.name.length <= 4) {\n      alert(\"Username and password must be longer than 4 characters\");\n    } else {\n      await sendData();\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: styles.LogInFormContainer\n  }, isLoading ? __jsx(\"div\", {\n    className: styles.loadingModal\n  }, __jsx(\"img\", {\n    src: loadingTriangle,\n    alt: \"cat\"\n  }), __jsx(\"p\", null, \"Please wait\")) : null, __jsx(\"form\", {\n    onSubmit: handleFormSubmission,\n    className: styles.infoForm\n  }, __jsx(\"div\", {\n    id: \"u_name\",\n    className: styles.inputField\n  }, __jsx(\"label\", {\n    htmlFor: \"name\"\n  }, \"Username:\"), __jsx(\"input\", {\n    name: \"name\",\n    type: \"text\",\n    onChange: e => setInputData({\n      name: e.target.value,\n      pass: inputData.pass\n    })\n  })), __jsx(\"div\", {\n    id: \"u_pass\",\n    className: styles.inputField\n  }, __jsx(\"label\", {\n    htmlFor: \"pass\"\n  }, \"Password\"), __jsx(\"input\", {\n    type: \"password\",\n    onChange: e => setInputData({\n      pass: e.target.value,\n      name: inputData.name\n    })\n  })), __jsx(\"button\", {\n    disabled: isLoading,\n    type: \"submit\"\n  }, \"Log in\")));\n};\n\nexport default LogIn;","map":null,"metadata":{},"sourceType":"module"}