{"ast":null,"code":"var _jsxFileName = \"/Users/yberfox228/Documents/itlemonade/f-museum/tech/CS/modes-muzejs-client/components/PhotoManager.tsx\";\nvar __jsx = React.createElement;\nimport React, { useRef, useState } from \"react\";\nimport styles from \"../pages/styles/create_test.module.scss\";\nimport stylish from \"./styles/PhotoManager.module.scss\";\nimport uploadIcon from \"../GAssets/upload_data.svg\";\n\nconst PhotoManager = ({}) => {\n  async function readUploadedIMG(inputFile) {\n    const tmpFileReader = new FileReader();\n    return new Promise((resolve, reject) => {\n      tmpFileReader.onerror = () => {\n        tmpFileReader.abort();\n        reject(new DOMException(\"Problem parsing input file.\"));\n      };\n\n      tmpFileReader.onload = () => {\n        resolve(tmpFileReader.result);\n      };\n\n      tmpFileReader.readAsDataURL(inputFile);\n    });\n  }\n\n  const handleUpload = async event => {\n    const file = event.target.files[0];\n\n    try {\n      const fileContents = await readUploadedIMG(file);\n      console.log(fileContents);\n    } catch (e) {\n      console.warn(e.message);\n    }\n  };\n\n  const {\n    0: uploadedImg,\n    1: setUploadedImg\n  } = useState();\n  const {\n    0: upIMGs,\n    1: setUpIMGs\n  } = useState([]);\n\n  async function handleFileInput(event) {\n    event.preventDefault();\n    let tmp = [];\n\n    if (fileInput.current !== null && fileInput.current.files !== null) {\n      for (let fileIndex = 0; fileIndex < ((_fileInput$current$fi = fileInput.current.files) === null || _fileInput$current$fi === void 0 ? void 0 : _fileInput$current$fi.length); fileIndex++) {\n        var _fileInput$current$fi;\n\n        try {\n          const fileContents = await readUploadedIMG(fileInput.current.files[fileIndex]);\n          tmp.push(fileContents); // setUploadedImg(fileContents);\n        } catch (error) {\n          alert(error);\n        }\n      }\n\n      setUpIMGs(tmp);\n    }\n  }\n\n  const fileInput = useRef(null);\n  return __jsx(\"div\", {\n    className: styles.PhotoManager,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: stylish.headerIconContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"Uploaded photos\"), __jsx(\"label\", {\n    htmlFor: \"photoUpload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, __jsx(\"input\", {\n    type: \"file\",\n    name: \"photoUpload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }), __jsx(\"img\", {\n    src: uploadIcon,\n    alt: \"Upload\",\n    className: stylish.uploadIcon,\n    onClick: e => console.log(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }))), __jsx(\"div\", {\n    className: stylish.PhotosContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, __jsx(\"form\", {\n    onSubmit: handleFileInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, __jsx(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"Upload image\"), __jsx(\"input\", {\n    type: \"file\",\n    multiple: true,\n    accept: \"image/*\",\n    ref: fileInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }), __jsx(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, \"Placeholder for image upload\"), upIMGs.map(image => __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, __jsx(\"img\", {\n    src: image,\n    alt: \"Oops\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, \"image\")))))));\n};\n\nexport default PhotoManager;","map":{"version":3,"sources":["/Users/yberfox228/Documents/itlemonade/f-museum/tech/CS/modes-muzejs-client/components/PhotoManager.tsx"],"names":["React","useRef","useState","styles","stylish","uploadIcon","PhotoManager","readUploadedIMG","inputFile","tmpFileReader","FileReader","Promise","resolve","reject","onerror","abort","DOMException","onload","result","readAsDataURL","handleUpload","event","file","target","files","fileContents","console","log","e","warn","message","uploadedImg","setUploadedImg","upIMGs","setUpIMGs","handleFileInput","preventDefault","tmp","fileInput","current","fileIndex","length","push","error","alert","headerIconContainer","PhotosContainer","map","image"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from \"react\";\nimport styles from \"../pages/styles/create_test.module.scss\";\nimport stylish from \"./styles/PhotoManager.module.scss\";\nimport uploadIcon from \"../GAssets/upload_data.svg\";\n\nconst PhotoManager = ({}) => {\n  async function readUploadedIMG(inputFile) {\n    const tmpFileReader = new FileReader();\n\n    return new Promise((resolve, reject) => {\n      tmpFileReader.onerror = () => {\n        tmpFileReader.abort();\n        reject(new DOMException(\"Problem parsing input file.\"));\n      };\n\n      tmpFileReader.onload = () => {\n        resolve(tmpFileReader.result);\n      };\n      tmpFileReader.readAsDataURL(inputFile);\n    });\n  }\n\n  const handleUpload = async (event) => {\n    const file = event.target.files[0];\n\n    try {\n      const fileContents = await readUploadedIMG(file);\n      console.log(fileContents);\n    } catch (e) {\n      console.warn(e.message);\n    }\n  };\n\n  const [uploadedImg, setUploadedImg] = useState();\n  const [upIMGs, setUpIMGs] = useState<Array<any>>([]);\n  async function handleFileInput(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n    let tmp = [];\n    if (fileInput.current !== null && fileInput.current.files !== null) {\n      for (\n        let fileIndex = 0;\n        fileIndex < fileInput.current.files?.length;\n        fileIndex++\n      ) {\n        try {\n          const fileContents = await readUploadedIMG(\n            fileInput.current.files[fileIndex]\n          );\n          tmp.push(fileContents);\n          // setUploadedImg(fileContents);\n        } catch (error) {\n          alert(error);\n        }\n      }\n      setUpIMGs(tmp);\n    }\n  }\n  const fileInput = useRef<HTMLInputElement>(null);\n\n  return (\n    <div className={styles.PhotoManager}>\n      <div className={stylish.headerIconContainer}>\n        <h3>Uploaded photos</h3>\n        <label htmlFor=\"photoUpload\">\n          <input type=\"file\" name=\"photoUpload\" />\n          <img\n            src={uploadIcon}\n            alt=\"Upload\"\n            className={stylish.uploadIcon}\n            onClick={(e) => console.log(e)}\n          />\n        </label>\n      </div>\n      <div className={stylish.PhotosContainer}>\n        <div>\n          <form onSubmit={handleFileInput}>\n            <label>Upload image</label>\n            <input type=\"file\" multiple accept=\"image/*\" ref={fileInput} />\n            <input type=\"submit\" value=\"Submit\" />\n            <p>Placeholder for image upload</p>\n            {upIMGs.map((image) => (\n              <div>\n                <img src={image} alt=\"Oops\" />\n                <p>image</p>\n              </div>\n            ))}\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PhotoManager;\n"]},"metadata":{},"sourceType":"module"}