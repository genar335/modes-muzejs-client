{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/yberfox228/Documents/itlemonade/f-museum/tech/CS/modes-muzejs-client/components/LogIn.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport styles from \"./styles/LogIn.module.scss\";\nimport loadingIcon from \"../GAssets/loading_cat.gif\";\nimport { Router } from \"next/dist/client/router\";\n\nvar LogIn = function LogIn() {\n  _s();\n\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState({\n    name: \"\",\n    pass: \"\"\n  }),\n      inputData = _useState2[0],\n      setInputData = _useState2[1];\n\n  var sendData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(inputData);\n              setIsLoading(true);\n              _context.prev = 2;\n              _context.next = 5;\n              return axios.post(\"http://localhost:4000/users/log_in\", {\n                name: inputData.name,\n                password: inputData.pass\n              }, {\n                withCredentials: true\n              });\n\n            case 5:\n              response = _context.sent;\n              console.log(response.status);\n              Router.push(\"/\");\n              setIsLoading(false);\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](2);\n              alert(_context.t0);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 11]]);\n    }));\n\n    return function sendData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleFormSubmission = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              e.preventDefault();\n              _context2.next = 3;\n              return sendData();\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleFormSubmission(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: styles.LogInFormContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, isLoading ? __jsx(\"div\", {\n    className: styles.loadingModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, __jsx(\"img\", {\n    src: loadingIcon,\n    alt: \"cat\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, \"Please wait\")) : null, __jsx(\"form\", {\n    onSubmit: handleFormSubmission,\n    className: styles.infoForm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    id: \"u_name\",\n    className: styles.inputField,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"Username:\"), __jsx(\"input\", {\n    name: \"name\",\n    type: \"text\",\n    onChange: function onChange(e) {\n      return setInputData({\n        name: e.target.value,\n        pass: inputData.pass\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  })), __jsx(\"div\", {\n    id: \"u_pass\",\n    className: styles.inputField,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"pass\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"Password\"), __jsx(\"input\", {\n    type: \"password\",\n    onChange: function onChange(e) {\n      return setInputData({\n        pass: e.target.value,\n        name: inputData.name\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  })), __jsx(\"button\", {\n    disabled: isLoading,\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"Log in\")));\n};\n\n_s(LogIn, \"93CN6aAaQCAJav8qCWRiYdQ9MbI=\");\n\n_c = LogIn;\nexport default LogIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"sources":["/Users/yberfox228/Documents/itlemonade/f-museum/tech/CS/modes-muzejs-client/components/LogIn.tsx"],"names":["React","useState","axios","styles","loadingIcon","Router","LogIn","isLoading","setIsLoading","name","pass","inputData","setInputData","sendData","console","log","post","password","withCredentials","response","status","push","alert","handleFormSubmission","e","preventDefault","LogInFormContainer","loadingModal","infoForm","inputField","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport styles from \"./styles/LogIn.module.scss\";\nimport loadingIcon from \"../GAssets/loading_cat.gif\";\nimport { Router } from \"next/dist/client/router\";\n\ninterface IUserLoginInfo {\n  name?: string;\n  pass?: string;\n}\n\nconst LogIn = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [inputData, setInputData] = useState<IUserLoginInfo>({\n    name: \"\",\n    pass: \"\",\n  });\n\n  const sendData = async () => {\n    console.log(inputData);\n    setIsLoading(true);\n    try {\n      const response = await axios.post(\n        \"http://localhost:4000/users/log_in\",\n        {\n          name: inputData.name as string,\n          password: inputData.pass as string,\n        },\n        {\n          withCredentials: true,\n        }\n      );\n      console.log(response.status);\n      Router.push(\"/\");\n      setIsLoading(false);\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  const handleFormSubmission = async (e: any) => {\n    e.preventDefault();\n    await sendData();\n  };\n\n  return (\n    <div className={styles.LogInFormContainer}>\n      {isLoading ? (\n        <div className={styles.loadingModal}>\n          <img src={loadingIcon} alt=\"cat\" />\n          <p>Please wait</p>\n        </div>\n      ) : null}\n      <form onSubmit={handleFormSubmission} className={styles.infoForm}>\n        <div id=\"u_name\" className={styles.inputField}>\n          <label htmlFor=\"name\">Username:</label>\n          <input\n            name=\"name\"\n            type=\"text\"\n            onChange={(e) =>\n              setInputData({\n                name: e.target.value as string,\n                pass: inputData.pass,\n              })\n            }\n          />\n        </div>\n\n        <div id=\"u_pass\" className={styles.inputField}>\n          <label htmlFor=\"pass\">Password</label>\n          <input\n            type=\"password\"\n            onChange={(e) =>\n              setInputData({\n                pass: e.target.value as string,\n                name: inputData.name,\n              })\n            }\n          />\n        </div>\n\n        <button disabled={isLoading} type=\"submit\">\n          Log in\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default LogIn;\n"]},"metadata":{},"sourceType":"module"}